<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neoball</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.164.0/build/three.module.js",
      "cannon-es": "https://unpkg.com/cannon-es@0.20.0/dist/cannon-es.js"
    }
  }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #0a0a0a url("./images/court.png") center / cover no-repeat fixed;
    }

    /* Logo */
    .neoball-logo-link {
      position: fixed;
      top: calc(env(safe-area-inset-top, 0px) + 18px);
      left: 50%;
      transform: translateX(-50%);
      z-index: 120;
      -webkit-tap-highlight-color: transparent;
    }

    .neoball-logo-img {
      height: clamp(36px, 6vw, 55px);
      width: auto;
      display: block;
    }

    .neoball-btn {
      position: fixed;
      bottom: 8%;
      left: 50%;
      transform: translateX(-50%);
      z-index: 130;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background-color: transparent;
      color: #00FFFF;
      border: 2px solid #00FFFF;
      padding: 15px 40px;
      font-family: 'Inter', sans-serif;
      font-weight: bold;
      font-size: 18px;
      text-transform: uppercase;
      letter-spacing: 2px;
      cursor: pointer;
      box-shadow: 0 0 10px #00FFFF, inset 0 0 5px #00FFFF;
      transition: 0.3s ease-in-out;
      border-radius: 5px;
      text-decoration: none;
    }

    .neoball-btn:hover {
      background-color: #FF1493;
      color: #00F6E0;
      border-color: #FF1493;
      box-shadow: 0 0 22px rgba(255,20,147,0.85), 0 0 44px rgba(255,20,147,0.4);
      text-shadow: none;
    }

    @media (max-width: 767px) {
      .neoball-btn {
        padding: 12px 30px;
        font-size: 14px;
        bottom: 5%;
      }

      .neoball-logo-link {
        top: calc(env(safe-area-inset-top, 0px) + 12px);
      }

      .neoball-logo-img {
        height: clamp(32px, 5vw, 45px);
      }
    }

    /* Hero Quote (MOBILE-FIRST) */
    .hero-quote {
      position: fixed;
      left: 50%;
      top: 39%;
      transform: translate(-50%, -50%);
      z-index: 85;
      width: min(92vw, 540px);
      text-align: center;
      text-decoration: none;
      -webkit-tap-highlight-color: transparent;
      pointer-events: auto;
    }

    .hero-quote__scrim {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: min(92vw, 560px);
      height: 180px;
      border-radius: 999px;
      background: radial-gradient(ellipse at center,
        rgba(0,0,0,0.78) 0%,
        rgba(0,0,0,0.52) 45%,
        rgba(0,0,0,0.00) 74%);
      filter: blur(3px);
      opacity: 0.96;
      z-index: 0;
      pointer-events: none;
    }

    .hero-quote__line {
      position: relative;
      z-index: 1;
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(36px, 9vw, 64px);
      line-height: 1;
      letter-spacing: 0.02em;
      text-transform: uppercase;
      color: #F5FAFF;
      text-shadow:
        0 18px 48px rgba(0,0,0,0.78),
        0 0 8px rgba(0,255,255,0.10),
        0 0 24px rgba(0,255,255,0.07);
    }

    /* Bottom line: tighter tracking for dense/premium feel */
    .hero-quote__line--bottom {
      letter-spacing: 0.045em;
    }

    .hero-quote__attribution {
      margin-top: 14px;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-family: 'Inter', system-ui, sans-serif;
      font-size: clamp(11px, 3vw, 13px);
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(245,250,255,0.78);
      text-shadow: 0 8px 22px rgba(0,0,0,0.65);
    }

    .hero-quote__attribution::before {
      content: "";
      width: 22px;
      height: 2px;
      border-radius: 999px;
      background: rgba(0,255,255,0.55);
      box-shadow: 0 0 10px rgba(0,255,255,0.25);
    }

    @media (prefers-reduced-motion: no-preference) {
      .hero-quote {
        animation: heroIn 780ms cubic-bezier(.2,.8,.2,1) both;
      }
      @keyframes heroIn {
        from { opacity: 0; transform: translate(-50%,-48%) scale(0.98); }
        to { opacity: 1; transform: translate(-50%,-50%) scale(1); }
      }

      .hero-quote__line {
        animation:
          glowBreath 4.8s ease-in-out infinite alternate,
          textSettle 600ms cubic-bezier(.2,.8,.2,1) 1s both;
      }
      @keyframes glowBreath {
        from {
          text-shadow:
            0 16px 46px rgba(0,0,0,0.72),
            0 0 10px rgba(0,255,255,0.12),
            0 0 34px rgba(0,255,255,0.08);
        }
        to {
          text-shadow:
            0 16px 46px rgba(0,0,0,0.72),
            0 0 10px rgba(0,255,255,0.20),
            0 0 34px rgba(0,255,255,0.14);
        }
      }
      @keyframes textSettle {
        from { transform: translateY(-2px); }
        to { transform: translateY(0); }
      }
    }

    @media (min-width: 768px) {
      .hero-quote {
        top: 44%;
        width: min(92vw, 980px);
      }
      .hero-quote__scrim {
        height: 260px;
        width: min(92vw, 980px);
      }
      .hero-quote__line {
        font-size: clamp(56px, 7vw, 90px);
      }
    }

    /* DESKTOP HERO OVERRIDES */
    @media (min-width: 1024px) {
      .neoball-logo-link {
        top: 28px;
      }
      .neoball-logo-img {
        height: 58px;
        filter: drop-shadow(0 12px 28px rgba(0,0,0,0.55));
      }

      .hero-quote {
        top: 43%;
        width: min(980px, 78vw);
      }

      .hero-quote__scrim {
        width: min(1100px, 82vw);
        height: 240px;
        opacity: 0.92;
      }

      .hero-quote__line {
        font-size: 92px;
        letter-spacing: 0.04em;
        text-shadow:
          0 18px 54px rgba(0,0,0,0.78),
          0 0 8px rgba(0,255,255,0.10),
          0 0 22px rgba(0,255,255,0.07);
      }

      .hero-quote__line--bottom {
        letter-spacing: 0.045em;
      }

      .hero-quote__attribution {
        font-size: 12px;
        letter-spacing: 0.18em;
        color: rgba(245,250,255,0.76);
      }

      .neoball-btn {
        bottom: 7%;
        padding: 16px 44px;
        font-size: 16px;
        letter-spacing: 0.18em;
      }
    }

    /* NO-MOTION FALLBACK */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation: none !important;
        transition: none !important;
        scroll-behavior: auto !important;
      }

      .hero-quote__line {
        text-shadow:
          0 18px 54px rgba(0,0,0,0.80),
          0 0 8px rgba(0,255,255,0.08),
          0 0 18px rgba(0,255,255,0.06);
      }
    }

    /* Cookie Consent Banner */
    .cookie-banner {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 14px 20px;
      background: #f5f5f5;
      border-top: 1px solid #ddd;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      transform: translateY(0);
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    }

    .cookie-banner.hidden {
      transform: translateY(100%);
      opacity: 0;
      pointer-events: none;
    }

    .cookie-banner__text {
      flex: 1;
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      color: #1a1a1a;
      line-height: 1.4;
    }

    .cookie-banner__actions {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-shrink: 0;
    }

    .cookie-banner__btn {
      padding: 10px 20px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .cookie-banner__btn--accept {
      background: #00FFFF;
      color: #0a0a0a;
    }

    .cookie-banner__btn--accept:hover {
      background: #00e5e5;
      box-shadow: 0 0 12px rgba(0, 255, 255, 0.5);
    }

    .cookie-banner__btn--reject {
      background: #e0e0e0;
      color: #333;
    }

    .cookie-banner__btn--reject:hover {
      background: #d0d0d0;
    }

    .cookie-banner__close {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: 1px solid #ccc;
      cursor: pointer;
      font-size: 18px;
      color: #666;
      transition: all 0.2s ease;
      margin-left: 4px;
    }

    .cookie-banner__close:hover {
      background: #e0e0e0;
      border-color: #999;
    }

    @media (max-width: 600px) {
      .cookie-banner {
        flex-wrap: wrap;
        padding: 12px 16px;
        gap: 12px;
      }

      .cookie-banner__text {
        flex-basis: 100%;
        font-size: 10px;
      }

      .cookie-banner__actions {
        width: 100%;
        justify-content: flex-end;
      }

      .cookie-banner__btn {
        padding: 8px 14px;
        font-size: 11px;
      }
    }

    /* Ball layer wrappers */
    .balls-layer {
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      height: 100dvh;
      pointer-events: none;
      overflow: hidden;
    }

    #ballsBack { z-index: 70; }
    #ballsFront { z-index: 90; }
  </style>
</head>
<body>
  <!-- Back balls layer (behind UI) -->
  <div id="ballsBack" class="balls-layer"></div>

  <a class="neoball-logo-link" href="./pdp.html" aria-label="Neoball">
    <img src="./images/neoballypwhite.png" alt="Neoball" class="neoball-logo-img">
  </a>

  <a class="hero-quote" href="./pdp.html" aria-label="World's best silent basketball">
    <span class="hero-quote__scrim" aria-hidden="true"></span>
    <div class="hero-quote__line">"WORLD'S BEST"</div>
    <div class="hero-quote__line hero-quote__line--bottom">SILENT BASKETBALL</div>
    <div class="hero-quote__attribution">according to the kids</div>
  </a>

  <a class="neoball-btn" id="buyBtn" href="./pdp.html" aria-label="Buy Neoball">BUY NOW</a>

  <!-- Front balls layer (in front of UI) -->
  <div id="ballsFront" class="balls-layer"></div>

  <!-- Cookie Consent Banner -->
  <div class="cookie-banner" id="cookieBanner" role="dialog" aria-label="Cookie consent">
    <p class="cookie-banner__text">This website uses cookies to improve your browsing experience.</p>
    <div class="cookie-banner__actions">
      <button class="cookie-banner__btn cookie-banner__btn--accept" id="cookieAccept">Accept</button>
      <button class="cookie-banner__btn cookie-banner__btn--reject" id="cookieReject">Reject All</button>
      <button class="cookie-banner__close" id="cookieClose" aria-label="Close">&times;</button>
    </div>
  </div>

  <script type="module">
    import { initBallsOnPage } from './js/balls-overlay.js';

    const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    if (!reduceMotion) {
      // BACK LAYER (ambient)
      initBallsOnPage({
        container: document.getElementById('ballsBack'),
        zIndex: 1,
        zOffset: -0.8,
        ballCount: 8,
        ballRadius: 1.0
      });

      // FRONT LAYER (depth accents)
      initBallsOnPage({
        container: document.getElementById('ballsFront'),
        zIndex: 1,
        zOffset: 0.8,
        ballCount: window.innerWidth < 768 ? 3 : 4,
        ballRadius: 1.0
      });
    }
  </script>

  <!-- Cookie Consent Logic -->
  <script>
    (function initCookieBanner() {
      const banner = document.getElementById('cookieBanner');
      const acceptBtn = document.getElementById('cookieAccept');
      const rejectBtn = document.getElementById('cookieReject');
      const closeBtn = document.getElementById('cookieClose');

      if (!banner) return;

      const STORAGE_KEY = 'neoball_cookie_consent';

      // Check if user already made a choice
      const consent = localStorage.getItem(STORAGE_KEY);
      if (consent) {
        banner.classList.add('hidden');
        return;
      }

      function hideBanner(choice) {
        localStorage.setItem(STORAGE_KEY, choice);
        banner.classList.add('hidden');
      }

      acceptBtn?.addEventListener('click', () => hideBanner('accepted'));
      rejectBtn?.addEventListener('click', () => hideBanner('rejected'));
      closeBtn?.addEventListener('click', () => hideBanner('dismissed'));
    })();
  </script>
</body>
</html>
